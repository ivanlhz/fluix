<main [class]="'demo-shell theme-' + theme()">
  <div class="demo-card">
    <div class="demo-header">
      <div>
        <h1 class="demo-title">Fluix Playground (Angular)</h1>
        <p class="demo-subtitle">
          Proba posiciones, tipos de toast, layout stack/notch y tema visual.
        </p>
      </div>
      <button
        type="button"
        class="demo-pill"
        (click)="theme() === 'dark' ? setTheme('light') : setTheme('dark')"
      >
        {{ theme() === 'dark' ? 'Dark' : 'Light' }}
      </button>
    </div>

    <div class="demo-row">
      @for (item of layouts; track item) {
        <button
          type="button"
          class="demo-pill"
          [class.is-active]="layout() === item"
          (click)="setLayout(item)"
        >
          Layout: {{ item }}
        </button>
      }
    </div>

    <div class="demo-row">
      @for (item of positions; track item) {
        <button
          type="button"
          class="demo-pill"
          [class.is-active]="position() === item"
          (click)="setPosition(item)"
        >
          {{ item }}
        </button>
      }
    </div>

    <hr class="demo-divider" />

    <div class="demo-row">
      <button type="button" class="demo-pill" (click)="showSuccess()">
        Success
      </button>
      <button type="button" class="demo-pill" (click)="showError()">
        Error
      </button>
      <button type="button" class="demo-pill" (click)="showWarning()">
        Warning
      </button>
      <button type="button" class="demo-pill" (click)="showInfo()">Info</button>
      <button type="button" class="demo-pill" (click)="showAction()">
        Action
      </button>
      <button type="button" class="demo-pill" (click)="showIcon()">Icon</button>
      <button type="button" class="demo-pill" (click)="showPromise()">
        Promise
      </button>
    </div>

    <div class="demo-row">
      <button type="button" class="demo-pill" (click)="clear()">Clear</button>
    </div>
  </div>

  <fluix-toaster [config]="toasterConfig()" />

  <!-- Notch Demo -->
  <div class="demo-card" style="margin-top:2rem;">
    <div class="demo-header">
      <div>
        <h2 class="demo-title">Notch Menu</h2>
        <p class="demo-subtitle">
          Liquid expanding pill with gooey SVG morphing.
        </p>
      </div>
    </div>

    <div class="demo-row">
      @for (t of notchTriggers; track t) {
        <button
          type="button"
          class="demo-pill"
          [class.is-active]="notchTrigger() === t"
          (click)="setNotchTrigger(t)"
        >
          Trigger: {{ t }}
        </button>
      }
    </div>

    @if (notchTrigger() === 'manual') {
      <div class="demo-row" style="margin-top:1rem;">
        <button
          type="button"
          class="demo-pill"
          (click)="toggleNotchOpen()"
        >
          {{ notchOpen() ? 'Close' : 'Open' }} Notch
        </button>
      </div>
    }
  </div>

  <fluix-notch
    [trigger]="notchTrigger()"
    position="top-center"
    [dotSize]="36"
    [roundness]="20"
    [theme]="toastTheme()"
    [open]="notchTrigger() === 'manual' ? notchOpen() : undefined"
    (openChange)="notchTrigger() === 'manual' ? onNotchOpenChange($event) : null"
  >
    <div notch-pill>
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <line x1="3" y1="6" x2="21" y2="6" />
        <line x1="3" y1="12" x2="21" y2="12" />
        <line x1="3" y1="18" x2="21" y2="18" />
      </svg>
    </div>
    <nav notch-content style="display:flex;gap:1rem;padding:0.25rem 1.75rem;font-size:0.85rem;font-weight:500;">
      <a href="#home" style="color:inherit;text-decoration:none;">Home</a>
      <a href="#about" style="color:inherit;text-decoration:none;">About</a>
      <a href="#work" style="color:inherit;text-decoration:none;">Work</a>
      <a href="#contact" style="color:inherit;text-decoration:none;">Contact</a>
    </nav>
  </fluix-notch>

  <ng-template #flightCard let-data>
    <div class="flight-card">
      <div class="flight-card-top">
        <span class="flight-card-airline">{{ data.airline }}</span>
        <span class="flight-card-pnr">PNR {{ data.pnr }}</span>
      </div>
      <div class="flight-card-route">
        <span class="flight-card-code">{{ data.from }}</span>
        <span class="flight-card-arrow">â†—</span>
        <span class="flight-card-code">{{ data.to }}</span>
      </div>
      <div class="flight-card-meta">Booking ID {{ data.bookingId }}</div>
    </div>
  </ng-template>
</main>
